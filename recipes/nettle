name=nettle
from_source=nettle
revision=1
hostdeps="gcc pkg-config"
deps="core-libs gmp"
imagedeps="gcc"

build() {
    autotools_configure_lib \
        --disable-documentation

    make -j${parallelism}
}

package() {
    DESTDIR="${dest_dir}" make install

    ${OS_TRIPLET}-strip "${dest_dir}${prefix}"/bin/*
    ${OS_TRIPLET}-strip "${dest_dir}${prefix}"/lib/libhogweed.so.6.8
    ${OS_TRIPLET}-strip "${dest_dir}${prefix}"/lib/libnettle.so.8.8
}
